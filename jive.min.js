(function(){var a=!1,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.create=function(c){function d(){!a&&this.initialize&&this.initialize.apply(this,arguments)}var f=this.prototype;a=!0;var g=new this;a=!1;for(var e in c)g[e]="function"==typeof c[e]&&"function"==typeof f[e]&&b.test(c[e])?function(a,b){return function(){var c=this._super;this._super=f[a];var d=b.apply(this,arguments);this._super=c;return d}}(e,c[e]):c[e];d.prototype=g;d.constructor=d;d.create=arguments.callee;
return d}})();window.$j={regex:{empty:/^.*$/,bit:/^(0|1)$/,num:/^-?([0-9]*)$/,alpha:/^[a-zA-z\s]+$/,alphanum:/^[a-zA-Z0-9]?[\s||\'||\"||\.||\?||\!||\-||a-zA-Z0-9]+$/,email:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,phone:/^([0-9]{3}( |-|.)?)?(\(?[0-9]{3}\)?|[0-9]{3})( |-|.)?([0-9]{3}( |-|.)?[0-9]{4}|[a-zA-Z0-9]{7})$/,cc:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,zip:/^(([0-9]{5})|([0-9]{5}[-][0-9]{4}))$/,
decimal:/^\d+\.\d{0,4}$/,price:/^\$?\s?[0-9\,]+(\.\d{0,4})?$/},init:function(){this.tabs={};this.forms={};this.msgs={};this.msg_index=0;this.slideshows={};this.dropdowns={};this.popups={};this.popup_index=0;this.crontab={};this.crontab_index=0;$(document).ready(function(){$j.init_dom()})},init_dom:function(){$(document).mousemove(this.get_mouse_position);this.get_viewport_dimensions();$(window).resize(this.get_viewport_dimensions)},get_mouse_position:function(a){$j.mouse={x:a.pageX,y:a.pageY}},get_viewport_dimensions:function(){$j.viewport=
{x:$(window).width(),y:$(window).height()}},msg:function(a){this.messenger.create(a)},hello_world:function(){this.msg({type:"success",content:"<h2>Hello World!</h2><p>If you're seeing this message, it means jive is ready to use!</p>",sticky:1})},cron:function(a,b,c){var c=c?c:this.crontab_index++,d={created:new Date,stop:function(){clearTimeout(this.timer)},timer:setInterval(function(){a(d)},b)};this.crontab[c]=d}};$j.init();window.$j.canopy={create:function(){$j.canopy.container=$('<div id="canopy"/>').append($('<div id="canopy-close-btn"/>').text("Close").click($j.canopy.close));$j.canopy.overlay=$('<div id="canopy-overlay"/>');$(document.body).append($j.canopy.overlay).append($j.canopy.container)},display:function(){$j.canopy.container||$j.canopy.create();$j.canopy.overlay.show();$j.canopy.container.show()},close:function(){$j.canopy.overlay.hide();$j.canopy.container.hide()}};var Messenger=Class.create({initialize:function(){var a=this;this.container=$('<div id="jive-messenger"/>');this.messages_container=$('<div id="jive-messenger-messages"/>');this.close_btn=$('<div id="jive-messenger-close" style="display:none;"/>').text("x").click(this.close);$(document).ready(function(){a.container.append(a.messages_container);a.container.append(a.close_btn);$(document.body).append(a.container)})},create:function(a){var b=this,a={id:"msg-"+$j.msg_index,type:a.type?a.type:"notify",
content:a.content,timer:a.timer?a.timer:5E3,sticky:a.sticky?a.sticky:!1};a.container=$('<div class="jive-msg jive-msg-'+a.type+'" id="'+a.id+'"/>').append($('<div class="jive-msg-contents"/>').html(a.content));a.sticky?this.close_btn.show():this.close_btn.hide();this.messages_container.append(a.container);this.container.show();$j.msgs[$j.msg_index]=a;$j.msg_index++;a.sticky||setTimeout(function(){b.close()},a.timer)},clear:function(){this.close_btn.hide();this.messages_container.empty()},close:function(){$j.messenger.container.fadeOut();
setTimeout(function(){$j.messenger.messages_container.html("")},1E3)}});$j.messenger=new Messenger;var Tabs=Class.create({initialize:function(a){var b=this;this.container=$("#"+a.container);this.tabs=this.container.find(".tab");this.panels=this.container.find(".panel");this.current_index=a.index?a.index:0;this.panels.hide();this.tabs.each(function(a){$(this).click(function(){b.current_index!=a&&b.show_tab(a)})});this.show_tab(this.current_index);$j.tabs[a.container]=this},show_tab:function(a){this.current_index=a;this.panels.hide();this.container.find("#"+this.tabs[a].id.replace("tab-","panel-")).show()},
next_tab:function(){this.show_tab((this.current_index+1+this.tabs.length)%this.tabs.length)},previous_tab:function(){this.show_tab((this.current_index+1+this.tabs.length)%this.tabs.length)}});$(document).ready(function(){$(".tabs-container").each(function(){new Tabs({container:this.id})})});var JiveForm=Class.create({initialize:function(a){var b=this;this.config=a;this.container=$("#"+a.container);this.form_name=this.container.attr("name");this.fields={text:this.container.find("input[type=text]"),textareas:this.container.find("textarea"),radios:this.container.find("input[type=radio]"),checkboxes:this.container.find("input[type=checkbox]"),selects:this.container.find("select"),submits:this.container.find("input[type=submit]"),buttons:this.container.find("button")};this.clicked=null;this.fields.buttons.click(function(a){a.preventDefault();
b.clicked=this;b.submit(a)});this.container.submit(function(a){b.submit(a)});$j.forms[a.container]=this},validate:function(){for(var a in this.fields)"submits"!=a&&"buttons"!=a&&this.fields[a].each(function(){$(this).attr("disabled","disabled");for(var a in $j.regex)$(this).hasClass("valid-"+a)&&($j.regex[a].test(this.value)?($(this).addClass("valid"),$(this).removeClass("invalid")):($(this).addClass("invalid"),$(this).removeClass("valid")));$(this).removeAttr("disabled")});this.valid_fields=this.container.find(".valid");
this.invalid_fields=this.container.find(".invalid");return 0==this.invalid_fields.length?!0:!1},submit:function(a){a.preventDefault();this.ajax_url=this.container.attr("action")+"?"+this.container.serialize();if(this.validate())if(this.success_callback)this.success_callback(this);else return!0;else if(this.failure_callback)this.failure_callback(this);else return!1},success:function(a){this.success_callback=a},failure:function(a){this.failure_callback=a},reset:function(){for(var a in this.fields)switch(a){case "text":this.fields[a].each(function(){$(this).attr("value",
"")})}}});$(document).ready(function(){$(".jive-form").each(function(){new JiveForm({container:this.id})})});var Dropdown=Class.create({initialize:function(a){var b=this;this.container=$("#"+a.container);this.menu=this.container.find("> .dropdown-menu");this.timer=a.timer?a.timer:200;this.open=!1;this.container.mouseenter(function(){b.display()});this.container.mouseleave(function(){b.close()});$j.dropdowns[a.container]=this},display:function(){var a=this;clearTimeout(this.timeout);this.open||(this.timeout=setTimeout(function(){a.open=!0;a.menu.slideDown(a.timer)},this.timer))},close:function(){var a=this;
clearTimeout(this.timeout);this.open&&(this.timeout=setTimeout(function(){a.open=!1;a.menu.slideUp(a.timer)},this.timer))}});$(document).ready(function(){$(".dropdown").each(function(){new Dropdown({container:this.id})})});var Popup=Class.create({initialize:function(a){var b=this,a=$.extend({container:"popup-"+$j.popup_index++,title:"",html:!1,width:$j.viewport.x/2,height:$j.viewport.y/2,top:($j.viewport.y-this.height)/2,left:($j.viewport.x-this.width)/2,offset:{top:50,left:50},confirm_close:!1,drag:!1,minimize:!1},a);this.container_id=a.container;this.container=$('<div id="'+this.container_id+'" class="popup"/>').append($('<div class="popup-toolbar"/>').append($('<div class="popup-title"/>').html(a.title),$('<div class="popup-close"/>').text("x").click(function(){b.close()})));
a.html&&this.set_contents(a.html);this.width=a.width;this.height=a.height;this.static_dimensions=a.width&&a.height?!0:!1;this.position={top:a.top,left:a.left,top_static:a.top?!0:!1,left_static:a.left?!0:!1};this.offset=a.offset;this.container.css({width:b.width,height:b.height,top:b.position.top,left:b.position.left});this.confirm_close=a.confirm_close;this.drag=a.drag;this.minimize=a.minimize;$j.popups[this.container_id]=this;$(document.body).append(this.container);$(window).resize(function(){b.update()});
this.update()},update:function(){this.static_dimensions||this.resize();this.reposition();this.container.css({width:this.width,height:this.height,top:this.position.top,left:this.position.left})},reposition:function(){this.position.top_static||(this.position.top=($j.viewport.y-this.height)/2,this.position.top<this.offset.top&&(this.position.top=this.offset.top));this.position.left_static||(this.position.left=($j.viewport.x-this.width)/2,this.position.left<this.offset.left&&(this.position.left=this.offset.left))},
resize:function(){this.width=$j.viewport.x/2;this.height=$j.viewport.y/2},close:function(){this.confirm_close?confirm("Are you sure you would like to close this window?")&&(this.container.remove(),delete $j.popups[this.container_id]):(this.container.remove(),delete $j.popups[this.container_id])},set_title:function(a){this.container.find(".popup-title").html(a)},set_contents:function(a){this.container.html(a)}});$j.modal={display:function(a){a=$.extend({container:"modal"},a);new Popup(a);this.popup=$j.popups.modal;$j.canopy.display();$("#canopy-close-btn").hide();$("#modal").find(".popup-close").addClass("btn btn-large");$("#modal").find(".popup-close").click(function(){$j.canopy.close()})},close:function(){$j.canopy.close();this.popup.close()}};